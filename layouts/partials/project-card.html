<div class="project-card mb-12 relative overflow-hidden rounded-lg bg-[#121212] border border-gray-700 transition-all duration-300 group" data-project-id="{{ .title | urlize }}">
    <div class="relative" style="padding-bottom: 56.25%;"> <!-- 16:9 aspect ratio -->

        {{ if .images }}
        <!-- Carousel for multiple images -->
        <div class="carousel-wrapper absolute inset-0 w-full h-full">
            {{ range $index, $img := .images }}
            <img src="{{ $img }}"
                 alt="{{ $.title }} - Image {{ add $index 1 }}"
                 class="carousel-image absolute inset-0 w-full h-full object-cover transition-all duration-500 group-hover:scale-110 {{ if eq $index 0 }}opacity-100{{ else }}opacity-0{{ end }}"
                 style="{{ if eq $index 0 }}z-index: 5{{ else }}z-index: 4{{ end }}"
                 data-index="{{ $index }}">
            {{ end }}
        </div>
        {{ else }}
        <!-- Single image fallback -->
        <img src="{{ .image }}" alt="{{ .title }}" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" style="z-index: 5">
        {{ end }}

        <!-- Blue gradient overlay -->
        <div class="absolute inset-0 bg-gradient-to-br from-blue-500/20 to-purple-500/20" style="z-index: 10"></div>

        <!-- Dark gradient overlay -->
        <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent opacity-60" style="z-index: 20"></div>

        <!-- Navigation controls -->
        {{ if .images }}
        {{ if gt (len .images) 1 }}
        <!-- Left third clickable area for prev -->
        <button class="carousel-prev absolute left-0 top-0 h-full w-1/3 flex items-center justify-start pl-4 opacity-0 hover:opacity-100 transition-opacity duration-300" style="z-index: 40">
            <span class="text-white text-4xl font-light drop-shadow-lg transform transition-transform hover:-translate-x-1">‹</span>
        </button>
        <!-- Right third clickable area for next -->
        <button class="carousel-next absolute right-0 top-0 h-full w-1/3 flex items-center justify-end pr-4 opacity-0 hover:opacity-100 transition-opacity duration-300" style="z-index: 40">
            <span class="text-white text-4xl font-light drop-shadow-lg transform transition-transform hover:translate-x-1">›</span>
        </button>

        <!-- Dots indicator -->
        <div class="carousel-dots absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300" style="z-index: 40">
            {{ range $index, $img := .images }}
            <button class="carousel-dot w-2 h-2 rounded-full bg-white/50 hover:bg-white/80 transition-all duration-300 {{ if eq $index 0 }}bg-white{{ end }}" data-index="{{ $index }}"></button>
            {{ end }}
        </div>
        {{ end }}
        {{ end }}

        <!-- Content that moves up on hover -->
        <div class="absolute inset-0 z-30 p-4 pb-3 md:p-6 md:pb-4 flex flex-col justify-end transform transition-transform duration-500 translate-y-0 group-hover:translate-y-[-20px]">
            <h3 class="text-xl md:text-2xl font-bold mb-1.5 md:mb-2 text-white line-clamp-2">{{ .title }}</h3>
            <div class="hidden sm:flex flex-wrap gap-1 md:gap-2 mb-1.5 md:mb-3">
                {{ $techs := split .tech "," }}
                {{ range $tech := $techs }}
                <span class="px-1.5 md:px-2 py-0.5 bg-black/30 backdrop-blur-sm rounded-md text-[10px] md:text-xs font-medium text-white">{{ $tech }}</span>
                {{ end }}
            </div>
            <p class="hidden md:block text-sm text-white mb-3 line-clamp-3 md:line-clamp-4">{{ .description }}</p>

            <!-- Learn More button -->
            {{ if .link }}
            <a href="{{ .link }}" class="bg-white/90 backdrop-blur-sm hover:bg-white text-black text-xs md:text-sm font-medium py-1 md:py-1.5 px-2 md:px-3 rounded-md inline-block transition-all duration-300 transform opacity-100 md:opacity-0 group-hover:opacity-100 w-fit flex items-center shadow-lg hover:shadow-xl">
                Learn More
                <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 ml-1 transform group-hover:translate-x-1 transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                </svg>
            </a>
            {{ end }}
        </div>
    </div>
</div>